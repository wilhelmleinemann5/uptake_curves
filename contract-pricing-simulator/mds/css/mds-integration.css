/* ==========================================================================
   MAERSK DARK THEME DESIGN SYSTEM
   ========================================================================== */

:root {
  /* ===== MAERSK BRAND COLORS (CORE) ===== */
  --mds-color-maersk-blue: #0077BE;
  --mds-color-maersk-light-blue: #4A9FD9;
  --mds-color-maersk-dark-blue: #003F5C;
  --mds-color-maersk-accent-blue: #00A8E6;
  
  /* ===== DARK THEME COLOR PALETTE ===== */
  --mds-color-dark-bg-primary: #1a1d23;
  --mds-color-dark-bg-secondary: #2a2f38;
  --mds-color-dark-bg-tertiary: #3a404a;
  --mds-color-dark-bg-elevated: #434954;
  
  --mds-color-dark-surface: #252930;
  --mds-color-dark-surface-hover: #2f353f;
  --mds-color-dark-surface-active: #363c47;
  
  --mds-color-dark-border: #404854;
  --mds-color-dark-border-light: #4a5263;
  --mds-color-dark-border-strong: #5a6572;
  
  --mds-color-dark-text-primary: #ffffff;
  --mds-color-dark-text-secondary: #b8c5d1;
  --mds-color-dark-text-tertiary: #8b9aa8;
  --mds-color-dark-text-muted: #6b7785;
  
  /* ===== SEMANTIC COLORS (DARK THEME) ===== */
  --mds-color-primary: var(--mds-color-maersk-blue);
  --mds-color-primary-light: var(--mds-color-maersk-light-blue);
  --mds-color-primary-dark: var(--mds-color-maersk-dark-blue);
  --mds-color-primary-accent: var(--mds-color-maersk-accent-blue);
  
  --mds-color-success: #22c55e;
  --mds-color-success-bg: rgba(34, 197, 94, 0.1);
  --mds-color-error: #ef4444;
  --mds-color-error-bg: rgba(239, 68, 68, 0.1);
  --mds-color-warning: #f59e0b;
  --mds-color-warning-bg: rgba(245, 158, 11, 0.1);
  --mds-color-info: var(--mds-color-maersk-blue);
  --mds-color-info-bg: rgba(0, 119, 190, 0.1);
  
  /* ===== SPACING TOKENS ===== */
  --mds-space-50: 2px;
  --mds-space-100: 4px;
  --mds-space-150: 6px;
  --mds-space-200: 8px;
  --mds-space-300: 12px;
  --mds-space-400: 16px;
  --mds-space-500: 20px;
  --mds-space-600: 24px;
  --mds-space-700: 32px;
  --mds-space-800: 40px;
  --mds-space-900: 48px;
  --mds-space-1000: 64px;

  /* ===== TYPOGRAPHY TOKENS ===== */
  --mds-font-family-primary: 'Maersk Headline', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  --mds-font-family-text: 'Maersk Text', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --mds-font-family-mono: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;

  --mds-font-size-xs: 0.75rem;
  --mds-font-size-sm: 0.875rem;
  --mds-font-size-md: 1rem;
  --mds-font-size-lg: 1.125rem;
  --mds-font-size-xl: 1.25rem;
  --mds-font-size-2xl: 1.5rem;
  --mds-font-size-3xl: 1.875rem;
  --mds-font-size-4xl: 2.25rem;

  --mds-font-weight-normal: 400;
  --mds-font-weight-medium: 500;
  --mds-font-weight-bold: 700;

  --mds-line-height-tight: 1.25;
  --mds-line-height-normal: 1.5;
  --mds-line-height-relaxed: 1.75;

  /* ===== BORDER RADIUS ===== */
  --mds-border-radius-sm: 4px;
  --mds-border-radius-md: 8px;
  --mds-border-radius-lg: 12px;
  --mds-border-radius-xl: 16px;
  --mds-border-radius-full: 9999px;

  /* ===== SHADOWS (DARK THEME) ===== */
  --mds-shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);
  --mds-shadow-md: 0 4px 6px rgba(0, 0, 0, 0.4);
  --mds-shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.5);
  --mds-shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.6);
  --mds-shadow-maersk: 0 4px 20px rgba(0, 119, 190, 0.3);

  /* ===== TRANSITIONS ===== */
  --mds-transition-fast: 150ms ease-in-out;
  --mds-transition-base: 250ms ease-in-out;
  --mds-transition-slow: 350ms ease-in-out;
}

/* ==========================================================================
   NUCLEAR DARK THEME OVERRIDE - COMPLETE REPLACEMENT
   ========================================================================== */

/* Force dark theme on everything - highest specificity */
html body.mds,
html body.mds *,
.mds,
.mds * {
  box-sizing: border-box;
}

/* COMPLETE BODY AND CONTAINER OVERRIDE */
html,
html body,
html body.mds,
body.mds,
.mds {
  background: #1a1d23 !important;
  background-color: #1a1d23 !important;
  color: #b8c5d1 !important;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
  min-height: 100vh !important;
  margin: 0 !important;
  padding: 24px !important;
}

html body.mds .container,
.mds .container,
body.mds .container,
.container {
  background: #1a1d23 !important;
  background-color: #1a1d23 !important;
  color: #b8c5d1 !important;
  max-width: 1400px !important;
  margin: 0 auto !important;
  border-radius: 20px !important;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5) !important;
  overflow: hidden !important;
  border: 1px solid #404854 !important;
  padding: 0 !important;
}

/* FORCE MAIN CONTENT LAYOUT */
html body.mds .main-content,
.mds .main-content,
body.mds .main-content,
.main-content {
  display: grid !important;
  grid-template-columns: 420px 1fr !important;
  gap: 0 !important;
  min-height: 600px !important;
  background: #1a1d23 !important;
  align-items: start !important;
}

/* FORCE INPUT PANEL DARK THEME - BETTER SPACING */
html body.mds .input-panel,
.mds .input-panel,
body.mds .input-panel,
.input-panel {
  background: #252930 !important;
  background-color: #252930 !important;
  color: #b8c5d1 !important;
  padding: 32px !important;
  border-right: 1px solid #404854 !important;
  border: none !important;
  height: 100% !important;
  overflow-y: auto !important;
}

/* FORCE INPUT PANEL HEADERS - BETTER SPACING */
html body.mds .input-panel h2,
.mds .input-panel h2,
body.mds .input-panel h2,
.input-panel h2 {
  background: linear-gradient(135deg, #0077BE, #003F5C) !important;
  color: white !important;
  margin: -32px -32px 24px -32px !important;
  padding: 24px 32px !important;
  font-size: 1.4rem !important;
  font-weight: 600 !important;
  border-bottom: 2px solid #00A8E6 !important;
}

/* FORCE INPUT GROUP SPACING */
html body.mds .input-group,
.mds .input-group,
.input-group {
  margin-bottom: 20px !important;
  display: flex !important;
  flex-direction: column !important;
  gap: 8px !important;
}

/* FORCE ALL INPUT STYLING - BETTER SPACING */
html body.mds input,
html body.mds select,
html body.mds textarea,
.mds input,
.mds select,
.mds textarea,
body.mds input,
body.mds select,
body.mds textarea,
input,
select,
textarea {
  width: 100% !important;
  padding: 16px 20px !important;
  border: 2px solid #404854 !important;
  border-radius: 12px !important;
  font-size: 1rem !important;
  background: #2a2f38 !important;
  background-color: #2a2f38 !important;
  color: #b8c5d1 !important;
  transition: all 0.3s ease !important;
  line-height: 1.5 !important;
  min-height: 48px !important;
}

/* DROPDOWN SPECIFIC STYLING - MORE SPACE */
html body.mds select,
.mds select,
select {
  padding: 16px 20px !important;
  padding-right: 48px !important;
  appearance: none !important;
  background-image: url("data:image/svg+xml;charset=US-ASCII,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 4 5'><path fill='%23b8c5d1' d='M2 0L0 2h4zM2 5L0 3h4z'/></svg>") !important;
  background-repeat: no-repeat !important;
  background-position: right 16px center !important;
  background-size: 12px !important;
  cursor: pointer !important;
}

html body.mds input:focus,
html body.mds select:focus,
.mds input:focus,
.mds select:focus,
input:focus,
select:focus {
  outline: none !important;
  border-color: #0077BE !important;
  box-shadow: 0 0 0 4px rgba(0, 119, 190, 0.25) !important;
  background: #3a404a !important;
}

/* FORCE ALL LABELS - BETTER SPACING */
html body.mds label,
.mds label,
body.mds label,
label {
  display: block !important;
  margin-bottom: 8px !important;
  color: #b8c5d1 !important;
  font-weight: 600 !important;
  font-size: 0.95rem !important;
  line-height: 1.4 !important;
}

/* FORCE RESULTS PANEL - BETTER SPACING */
html body.mds .results-panel,
.mds .results-panel,
body.mds .results-panel,
.results-panel {
  background: #1a1d23 !important;
  background-color: #1a1d23 !important;
  color: #b8c5d1 !important;
  padding: 32px !important;
  display: flex !important;
  flex-direction: column !important;
  gap: 24px !important;
}

/* FORCE ALL CARDS - CONSISTENT SPACING */
html body.mds .mds-card,
html body.mds .stat-card,
html body.mds .chart-container,
.mds .mds-card,
.mds .stat-card,
.mds .chart-container,
.mds-card,
.stat-card,
.chart-container {
  background: #252930 !important;
  background-color: #252930 !important;
  color: #b8c5d1 !important;
  border: 1px solid #404854 !important;
  border-radius: 16px !important;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.4) !important;
  margin-bottom: 24px !important;
  padding: 0 !important;
  overflow: hidden !important;
}

/* FORCE CARD HEADERS - CONSISTENT SPACING */
html body.mds .mds-card__header,
.mds .mds-card__header,
.mds-card__header {
  background: #2a2f38 !important;
  background-color: #2a2f38 !important;
  color: #b8c5d1 !important;
  padding: 20px 24px !important;
  border-bottom: 1px solid #404854 !important;
  margin: 0 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
}

/* FORCE CARD BODIES - CONSISTENT SPACING */
html body.mds .mds-card__body,
.mds .mds-card__body,
.mds-card__body {
  background: #252930 !important;
  background-color: #252930 !important;
  color: #b8c5d1 !important;
  padding: 24px !important;
  margin: 0 !important;
}

/* FORCE ALL HEADINGS - BETTER SPACING */
html body.mds h1,
html body.mds h2,
html body.mds h3,
html body.mds h4,
html body.mds h5,
html body.mds h6,
.mds h1,
.mds h2,
.mds h3,
.mds h4,
.mds h5,
.mds h6,
h1, h2, h3, h4, h5, h6 {
  color: #b8c5d1 !important;
  margin: 0 0 16px 0 !important;
  line-height: 1.3 !important;
  font-weight: 600 !important;
}

/* FORCE ALL PARAGRAPHS AND TEXT - BETTER SPACING */
html body.mds p,
html body.mds span,
html body.mds div,
.mds p,
.mds span,
.mds div,
p, span, div {
  color: #b8c5d1 !important;
  line-height: 1.5 !important;
}

/* FORCE NAVIGATION - BETTER SPACING */
html body.mds .main-nav,
.mds .main-nav,
.main-nav {
  background: #252930 !important;
  background-color: #252930 !important;
  border-bottom: 1px solid #404854 !important;
  padding: 0 32px !important;
  height: 64px !important;
  display: flex !important;
  align-items: center !important;
  gap: 32px !important;
}

html body.mds .main-nav a,
.mds .main-nav a,
.main-nav a {
  color: #8b9aa8 !important;
  text-decoration: none !important;
  padding: 12px 20px !important;
  border-radius: 12px !important;
  transition: all 0.3s ease !important;
  font-weight: 600 !important;
  font-size: 1rem !important;
  line-height: 1.4 !important;
}

html body.mds .main-nav a:hover,
.mds .main-nav a:hover,
.main-nav a:hover {
  color: #4A9FD9 !important;
  background: #2a2f38 !important;
}

html body.mds .main-nav a.active,
.mds .main-nav a.active,
.main-nav a.active {
  color: #4A9FD9 !important;
  background: #2a2f38 !important;
  border-bottom: 3px solid #0077BE !important;
}

/* FORCE BUTTONS - MUCH BETTER SPACING */
html body.mds button,
.mds button,
button {
  background: #0077BE !important;
  color: white !important;
  border: none !important;
  padding: 16px 28px !important;
  border-radius: 12px !important;
  font-weight: 600 !important;
  cursor: pointer !important;
  transition: all 0.3s ease !important;
  font-size: 1rem !important;
  line-height: 1.4 !important;
  min-height: 48px !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  gap: 8px !important;
}

html body.mds button:hover,
.mds button:hover,
button:hover {
  background: #4A9FD9 !important;
  transform: translateY(-1px) !important;
  box-shadow: 0 4px 12px rgba(0, 119, 190, 0.3) !important;
}

/* FORCE RUN BUTTON SPECIAL STYLING - BIGGER */
html body.mds .run-btn,
.mds .run-btn,
.run-btn {
  background: linear-gradient(135deg, #0077BE, #00A8E6) !important;
  color: white !important;
  font-size: 1.1rem !important;
  padding: 20px 40px !important;
  font-weight: 700 !important;
  letter-spacing: 0.5px !important;
  box-shadow: 0 6px 20px rgba(0, 119, 190, 0.4) !important;
  min-height: 56px !important;
  margin: 16px 0 !important;
}

/* SCENARIO BUTTONS - BETTER SPACING */
html body.mds .scenario-btn,
.mds .scenario-btn,
.scenario-btn {
  background: #2a2f38 !important;
  border: 2px solid #404854 !important;
  color: #b8c5d1 !important;
  padding: 12px 20px !important;
  margin: 4px !important;
  border-radius: 12px !important;
  font-size: 0.95rem !important;
  min-height: 44px !important;
}

html body.mds .scenario-btn:hover,
.mds .scenario-btn:hover,
.scenario-btn:hover {
  border-color: #0077BE !important;
  color: #4A9FD9 !important;
  background: #363c47 !important;
}

/* FORCE CHART CONTAINERS - PROPER ALIGNMENT */
html body.mds canvas,
.mds canvas,
canvas {
  background: #252930 !important;
  background-color: #252930 !important;
  border-radius: 8px !important;
  display: block !important;
  margin: 0 auto !important;
}

/* CHART CONTAINER SIZING */
.chart-container {
  min-height: 520px !important;
  display: flex !important;
  flex-direction: column !important;
}

.chart-container .mds-card__body {
  flex: 1 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  padding: 24px !important;
}

/* FORCE STATS VALUES WITH BETTER COLORS AND SPACING */
html body.mds .stat-value,
.mds .stat-value,
.stat-value {
  color: #4A9FD9 !important;
  font-weight: 600 !important;
  font-size: 1.2rem !important;
  margin-bottom: 4px !important;
}

html body.mds .stat-label,
.mds .stat-label,
.stat-label {
  color: #8b9aa8 !important;
  font-weight: 500 !important;
  font-size: 0.9rem !important;
  margin-bottom: 8px !important;
}

/* STATS GRID - BETTER ALIGNMENT */
.stats-container {
  display: grid !important;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)) !important;
  gap: 20px !important;
  margin-bottom: 24px !important;
}

.stat-card {
  padding: 0 !important;
  display: flex !important;
  flex-direction: column !important;
}

.stat-card .mds-card__body {
  display: flex !important;
  flex-direction: column !important;
  align-items: flex-start !important;
  padding: 20px !important;
}

/* FIX READABILITY ISSUES - NO MORE LIGHT RED */
html body.mds .positive,
html body.mds .stat-value.positive,
.mds .positive,
.mds .stat-value.positive,
.positive,
.stat-value.positive {
  color: #22c55e !important; /* Strong green instead of light red */
  font-weight: 700 !important;
}

html body.mds .negative,
html body.mds .stat-value.negative,
.mds .negative,
.mds .stat-value.negative,
.negative,
.stat-value.negative {
  color: #ef4444 !important; /* Strong red */
  font-weight: 700 !important;
}

/* FORCE HELPER TEXT - BETTER SPACING */
html body.mds .input-helper,
html body.mds small,
.mds .input-helper,
.mds small,
.input-helper,
small {
  color: #6b7785 !important;
  font-size: 0.85rem !important;
  font-style: italic !important;
  margin-top: 4px !important;
  line-height: 1.4 !important;
}

/* FORCE SCENARIO SECTIONS - BETTER SPACING */
html body.mds .scenario-section,
.mds .scenario-section,
.scenario-section {
  background: #2a2f38 !important;
  border: 1px solid #0077BE !important;
  border-radius: 16px !important;
  padding: 24px !important;
  margin-top: 24px !important;
  margin-bottom: 24px !important;
}

/* SCENARIO BUTTONS CONTAINER - BETTER LAYOUT */
.scenario-buttons {
  display: flex !important;
  flex-wrap: wrap !important;
  gap: 12px !important;
  margin-bottom: 20px !important;
  align-items: stretch !important;
}

/* FORCE TABLES - BETTER SPACING */
html body.mds table,
html body.mds .comparison-table,
.mds table,
.mds .comparison-table,
table,
.comparison-table {
  background: #252930 !important;
  color: #b8c5d1 !important;
  border: 1px solid #404854 !important;
  border-radius: 12px !important;
  width: 100% !important;
  border-collapse: collapse !important;
  margin-bottom: 20px !important;
}

html body.mds th,
.mds th,
th {
  background: #2a2f38 !important;
  color: #b8c5d1 !important;
  padding: 16px !important;
  border-bottom: 2px solid #0077BE !important;
  font-weight: 600 !important;
  text-align: left !important;
}

html body.mds td,
.mds td,
td {
  background: #252930 !important;
  color: #b8c5d1 !important;
  padding: 16px !important;
  border-bottom: 1px solid #404854 !important;
  vertical-align: top !important;
}

/* RESPONSIVE FIXES - BETTER SPACING */
@media (max-width: 1024px) {
  .main-content {
    grid-template-columns: 1fr !important;
  }
  
  .input-panel {
    border-right: none !important;
    border-bottom: 1px solid #404854 !important;
    padding: 24px !important;
  }
  
  .input-panel h2 {
    margin: -24px -24px 20px -24px !important;
    padding: 20px 24px !important;
  }
}

/* FORCE REMOVAL OF ANY REMAINING LIGHT BACKGROUNDS */
* {
  background-color: inherit !important;
}

html body.mds *:not(canvas):not(input):not(select):not(button),
.mds *:not(canvas):not(input):not(select):not(button) {
  background-color: transparent !important;
}

/* IMPORT SCENARIO BUTTON - SPECIAL STYLING */
html body.mds .import-scenario-btn,
.mds .import-scenario-btn,
.import-scenario-btn {
  background: #0077BE !important;
  color: white !important;
  width: 100% !important;
  padding: 16px 24px !important;
  margin-bottom: 16px !important;
  font-size: 1.1rem !important;
  font-weight: 600 !important;
  min-height: 52px !important;
}

/* FLEX CONTAINERS - BETTER ALIGNMENT */
.mds-flex {
  display: flex !important;
  align-items: center !important;
  gap: 12px !important;
}

.mds-flex.mds-flex-col {
  flex-direction: column !important;
  align-items: stretch !important;
}

/* EVALUATION WEEK AND OPTION TYPE CONTAINERS */
.option-inputs {
  display: grid !important;
  grid-template-columns: 1fr 1fr !important;
  gap: 20px !important;
  margin-bottom: 24px !important;
}

/* BASELINE INPUTS GRID */
.baseline-inputs {
  display: grid !important;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)) !important;
  gap: 16px !important;
  margin-bottom: 20px !important;
}

/* SUPPLY INPUTS GRID */
.supply-inputs {
  display: grid !important;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)) !important;
  gap: 16px !important;
  margin-bottom: 20px !important;
}

/* ==========================================================================
   PROFESSIONAL HEADER (DARK THEME)
   ========================================================================== */

.header-content {
  padding: var(--mds-space-700) 0 var(--mds-space-600) 0;
  background: linear-gradient(135deg, var(--mds-color-maersk-blue) 0%, var(--mds-color-maersk-dark-blue) 100%);
  margin: 0 -20px var(--mds-space-700) -20px;
  border-radius: 0;
  box-shadow: var(--mds-shadow-maersk);
  position: relative;
}

.header-content::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg, var(--mds-color-maersk-accent-blue), var(--mds-color-maersk-light-blue));
}

.header-left {
  width: 100%;
  padding: 0 var(--mds-space-600);
}

.maersk-logo {
  height: 45px;
  width: auto;
  filter: brightness(1.2) drop-shadow(0 2px 8px rgba(0, 0, 0, 0.3));
}

.header-text h1 {
  color: white !important;
  font-weight: var(--mds-font-weight-bold);
  font-size: 2.5rem;
  margin: 0;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  letter-spacing: -0.02em;
}

.header-text p {
  color: rgba(255, 255, 255, 0.95) !important;
  margin: var(--mds-space-300) 0 0 0;
  font-size: 1.2rem;
  font-weight: var(--mds-font-weight-normal);
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

/* ==========================================================================
   DARK NAVIGATION
   ========================================================================== */

.main-nav {
  margin: 0 -20px var(--mds-space-700) -20px;
  padding: 0 var(--mds-space-600);
  background: var(--mds-color-dark-surface);
  border-bottom: 1px solid var(--mds-color-dark-border);
  box-shadow: var(--mds-shadow-sm);
}

.main-nav a {
  display: inline-block;
  padding: var(--mds-space-400) var(--mds-space-500);
  color: var(--mds-color-dark-text-secondary);
  text-decoration: none;
  font-weight: var(--mds-font-weight-medium);
  font-size: 1rem;
  border-bottom: 3px solid transparent;
  transition: all var(--mds-transition-fast);
  margin-right: var(--mds-space-300);
  border-radius: var(--mds-border-radius-md) var(--mds-border-radius-md) 0 0;
}

.main-nav a:hover {
  color: var(--mds-color-maersk-light-blue);
  background: var(--mds-color-dark-surface-hover);
  border-bottom-color: var(--mds-color-maersk-blue);
}

.main-nav a.active {
  color: var(--mds-color-maersk-light-blue);
  background: var(--mds-color-dark-surface-active);
  border-bottom-color: var(--mds-color-maersk-accent-blue) !important;
  font-weight: var(--mds-font-weight-bold);
  box-shadow: 0 -2px 8px rgba(0, 119, 190, 0.2);
}

/* ==========================================================================
   CONTAINER AND LAYOUT
   ========================================================================== */

.container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 var(--mds-space-500);
  background-color: var(--mds-color-dark-bg-primary);
}

.main-content {
  display: grid;
  grid-template-columns: 400px 1fr;
  gap: var(--mds-space-800);
  margin-top: var(--mds-space-600);
}

/* ==========================================================================
   INPUT PANEL (DARK THEME WITH MAERSK BRANDING)
   ========================================================================== */

.input-panel.mds-card {
  height: fit-content;
  position: sticky;
  top: var(--mds-space-500);
  background: var(--mds-color-dark-surface);
  border: 1px solid var(--mds-color-dark-border);
  box-shadow: var(--mds-shadow-lg);
}

.input-panel .mds-card__header {
  background: linear-gradient(135deg, var(--mds-color-maersk-blue), var(--mds-color-maersk-dark-blue));
  color: white;
  padding: var(--mds-space-500);
  border-bottom: 2px solid var(--mds-color-maersk-accent-blue);
}

.input-panel .mds-card__header h2 {
  color: white !important;
  font-size: 1.35rem;
  font-weight: var(--mds-font-weight-bold);
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

.input-panel .mds-card__body {
  padding: var(--mds-space-600);
  background: var(--mds-color-dark-surface);
}

/* ==========================================================================
   FORM ELEMENTS (DARK THEME)
   ========================================================================== */

.input-group {
  margin-bottom: var(--mds-space-500);
}

.mds-label {
  font-weight: var(--mds-font-weight-medium);
  color: var(--mds-color-dark-text-primary);
  margin-bottom: var(--mds-space-200);
  font-size: 0.95rem;
  display: block;
}

.mds-input {
  width: 100%;
  padding: var(--mds-space-300) var(--mds-space-400);
  font-size: 1rem;
  border-radius: var(--mds-border-radius-md);
  border: 2px solid var(--mds-color-dark-border);
  background: var(--mds-color-dark-bg-secondary);
  color: var(--mds-color-dark-text-primary);
  transition: all var(--mds-transition-fast);
  font-family: var(--mds-font-family-text);
}

.mds-input:focus {
  border-color: var(--mds-color-maersk-blue);
  box-shadow: 0 0 0 3px rgba(0, 119, 190, 0.25);
  outline: none;
  background: var(--mds-color-dark-bg-tertiary);
}

.mds-input:hover {
  border-color: var(--mds-color-dark-border-light);
  background: var(--mds-color-dark-bg-tertiary);
}

.input-helper {
  display: block;
  margin-top: var(--mds-space-150);
  color: var(--mds-color-dark-text-tertiary);
  font-style: italic;
  font-size: var(--mds-font-size-sm);
}

/* ==========================================================================
   BUTTONS (MAERSK BRANDED DARK THEME)
   ========================================================================== */

.mds-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-family: var(--mds-font-family-text);
  font-weight: var(--mds-font-weight-medium);
  border-radius: var(--mds-border-radius-md);
  cursor: pointer;
  transition: all var(--mds-transition-fast);
  text-decoration: none;
  white-space: nowrap;
  border: 2px solid transparent;
}

.mds-button.run-btn {
  background: linear-gradient(135deg, var(--mds-color-maersk-blue), var(--mds-color-maersk-accent-blue));
  border: none;
  padding: var(--mds-space-400) var(--mds-space-700);
  font-size: 1.15rem;
  font-weight: var(--mds-font-weight-bold);
  color: white;
  box-shadow: var(--mds-shadow-maersk);
  text-transform: none;
  letter-spacing: 0.3px;
  position: relative;
  overflow: hidden;
}

.mds-button.run-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
  transition: left 0.5s;
}

.mds-button.run-btn:hover {
  background: linear-gradient(135deg, var(--mds-color-maersk-accent-blue), var(--mds-color-maersk-light-blue));
  box-shadow: 0 8px 25px rgba(0, 119, 190, 0.4);
  transform: translateY(-2px);
}

.mds-button.run-btn:hover::before {
  left: 100%;
}

.mds-button--secondary {
  background: var(--mds-color-dark-surface);
  border: 2px solid var(--mds-color-dark-border-light);
  color: var(--mds-color-dark-text-primary);
  padding: var(--mds-space-300) var(--mds-space-500);
  font-weight: var(--mds-font-weight-medium);
}

.mds-button--secondary:hover {
  border-color: var(--mds-color-maersk-blue);
  color: var(--mds-color-maersk-light-blue);
  background: var(--mds-color-dark-surface-hover);
  box-shadow: 0 4px 12px rgba(0, 119, 190, 0.2);
}

/* ==========================================================================
   CARDS (DARK THEME)
   ========================================================================== */

.mds-card {
  background: var(--mds-color-dark-surface);
  border: 1px solid var(--mds-color-dark-border);
  border-radius: var(--mds-border-radius-lg);
  box-shadow: var(--mds-shadow-md);
  transition: all var(--mds-transition-base);
  overflow: hidden;
}

.mds-card:hover {
  box-shadow: var(--mds-shadow-lg);
  transform: translateY(-2px);
  border-color: var(--mds-color-dark-border-light);
}

.mds-card__header {
  background: var(--mds-color-dark-bg-secondary);
  border-bottom: 1px solid var(--mds-color-dark-border);
  padding: var(--mds-space-500);
}

.mds-card__header h3 {
  color: var(--mds-color-dark-text-primary);
  font-weight: var(--mds-font-weight-bold);
  font-size: 1.15rem;
  margin: 0;
}

.mds-card__body {
  padding: var(--mds-space-600);
  background: var(--mds-color-dark-surface);
}

/* ==========================================================================
   CHART CONTAINERS (DARK THEME)
   ========================================================================== */

.results-panel {
  display: flex;
  flex-direction: column;
  gap: var(--mds-space-700);
}

.chart-container {
  min-height: 520px;
  background: var(--mds-color-dark-surface);
  border: 1px solid var(--mds-color-dark-border);
  border-radius: var(--mds-border-radius-lg);
  overflow: hidden;
  box-shadow: var(--mds-shadow-lg);
}

.chart-container.mds-card .mds-card__body {
  padding: var(--mds-space-600);
  min-height: 460px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--mds-color-dark-surface);
}

/* Chart container dark theme styling */
.chart-container canvas {
  max-width: 100%;
  height: 420px !important;
  width: 100% !important;
  display: block;
  margin: 0 auto;
  background: var(--mds-color-dark-surface) !important;
  border-radius: var(--mds-border-radius-md);
}

/* ==========================================================================
   CHART.JS DARK THEME OVERRIDES
   ========================================================================== */

/* Create a JavaScript-accessible CSS custom property for chart theme detection */
:root {
  --chart-theme: 'dark';
  --chart-bg-color: #252930;
  --chart-grid-color: rgba(184, 197, 209, 0.1);
  --chart-text-color: #b8c5d1;
  --chart-border-color: rgba(184, 197, 209, 0.2);
}

/* Chart container background override */
.chart-container,
.chart-container.mds-card {
  background: var(--mds-color-dark-surface) !important;
}

.chart-container.mds-card .mds-card__body {
  background: var(--mds-color-dark-surface) !important;
}

/* Override any white backgrounds that might interfere */
canvas {
  background: var(--mds-color-dark-surface) !important;
}

/* Ensure chart legends and labels work with dark theme */
.chart-container .chartjs-tooltip {
  background: var(--mds-color-dark-bg-secondary) !important;
  color: var(--mds-color-dark-text-primary) !important;
  border: 1px solid var(--mds-color-dark-border) !important;
}

/* ==========================================================================
   STATS CONTAINER
   ========================================================================== */

.stats-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: var(--mds-space-600);
}

.stat-card.mds-card {
  background: var(--mds-color-dark-surface);
  border: 1px solid var(--mds-color-dark-border);
}

.stat-card .mds-card__header {
  background: linear-gradient(135deg, var(--mds-color-dark-bg-secondary), var(--mds-color-dark-bg-tertiary));
  border-bottom: 2px solid var(--mds-color-maersk-blue);
}

.stat-card .mds-card__header h3 {
  color: var(--mds-color-maersk-light-blue);
  font-weight: var(--mds-font-weight-bold);
}

/* ==========================================================================
   SCENARIO SECTION
   ========================================================================== */

.scenario-section.mds-card {
  margin-top: var(--mds-space-700);
  background: var(--mds-color-dark-bg-secondary);
  border: 1px solid var(--mds-color-maersk-blue);
  box-shadow: 0 4px 20px rgba(0, 119, 190, 0.15);
}

.scenario-section .mds-card__header {
  background: linear-gradient(135deg, var(--mds-color-maersk-blue), var(--mds-color-maersk-dark-blue));
  color: white;
  border-bottom: 2px solid var(--mds-color-maersk-accent-blue);
}

.scenario-section .mds-card__header h3 {
  color: white !important;
}

.scenario-buttons.mds-flex {
  gap: var(--mds-space-300);
  margin-bottom: var(--mds-space-500);
  flex-wrap: wrap;
}

/* ==========================================================================
   DEBUG AND LOADING STATES
   ========================================================================== */

.debug-info {
  padding: var(--mds-space-400);
  background: linear-gradient(135deg, rgba(0, 119, 190, 0.15), rgba(0, 119, 190, 0.08));
  border: 1px solid rgba(0, 119, 190, 0.3);
  border-radius: var(--mds-border-radius-md);
  text-align: center;
  margin-top: var(--mds-space-500);
  color: var(--mds-color-maersk-light-blue);
}

/* ==========================================================================
   TABLES (DARK THEME)
   ========================================================================== */

.comparison-table,
.data-table,
.time-series-table {
  width: 100%;
  border-collapse: collapse;
  background: var(--mds-color-dark-surface);
  border: 1px solid var(--mds-color-dark-border);
  border-radius: var(--mds-border-radius-md);
  overflow: hidden;
  box-shadow: var(--mds-shadow-md);
}

.comparison-table th,
.data-table th,
.time-series-table th {
  background: var(--mds-color-dark-bg-secondary);
  color: var(--mds-color-dark-text-primary);
  padding: var(--mds-space-400);
  font-weight: var(--mds-font-weight-bold);
  border-bottom: 2px solid var(--mds-color-maersk-blue);
  text-align: left;
  font-size: 0.95rem;
}

.comparison-table td,
.data-table td,
.time-series-table td {
  padding: var(--mds-space-400);
  border-bottom: 1px solid var(--mds-color-dark-border);
  color: var(--mds-color-dark-text-primary);
  vertical-align: middle;
}

.comparison-table tbody tr:hover,
.data-table tbody tr:hover,
.time-series-table tbody tr:hover {
  background: var(--mds-color-dark-surface-hover);
}

/* ==========================================================================
   STATUS INDICATORS
   ========================================================================== */

.eq-value.positive {
  color: var(--mds-color-success);
  font-weight: var(--mds-font-weight-bold);
}

.eq-value.negative {
  color: var(--mds-color-error);
  font-weight: var(--mds-font-weight-bold);
}

.eq-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--mds-space-300) 0;
  border-bottom: 1px solid var(--mds-color-dark-border);
}

.eq-item:last-child {
  border-bottom: none;
}

.eq-label {
  font-weight: var(--mds-font-weight-medium);
  color: var(--mds-color-dark-text-secondary);
}

.eq-value {
  font-weight: var(--mds-font-weight-bold);
  font-size: 1.1rem;
  color: var(--mds-color-maersk-light-blue);
}

/* ==========================================================================
   TOOLTIPS AND INFO ICONS
   ========================================================================== */

.info-icon {
  color: var(--mds-color-maersk-light-blue);
  cursor: help;
  transition: color var(--mds-transition-fast);
  margin-left: var(--mds-space-100);
}

.info-icon:hover {
  color: var(--mds-color-maersk-accent-blue);
}

/* ==========================================================================
   RESPONSIVE DESIGN
   ========================================================================== */

@media (max-width: 1200px) {
  .main-content {
    grid-template-columns: 380px 1fr;
    gap: var(--mds-space-600);
  }
}

@media (max-width: 968px) {
  .main-content {
    grid-template-columns: 1fr;
    gap: var(--mds-space-600);
  }
  
  .input-panel.mds-card {
    position: static;
  }
  
  .chart-container {
    min-height: 420px;
  }
  
  .chart-container canvas {
    height: 360px !important;
  }
}

@media (max-width: 768px) {
  .header-content {
    margin: 0 -15px var(--mds-space-600) -15px;
    padding: var(--mds-space-600) 0 var(--mds-space-500) 0;
  }
  
  .header-left {
    padding: 0 var(--mds-space-500);
    flex-direction: column;
    align-items: flex-start !important;
    gap: var(--mds-space-400);
  }
  
  .header-text h1 {
    font-size: 2rem;
  }
  
  .main-nav {
    margin: 0 -15px var(--mds-space-600) -15px;
    padding: 0 var(--mds-space-500);
  }
  
  .container {
    padding: 0 var(--mds-space-400);
  }
  
  .stats-container {
    grid-template-columns: 1fr;
  }
  
  .chart-container {
    min-height: 320px;
  }
  
  .chart-container canvas {
    height: 280px !important;
  }
  
  .scenario-buttons.mds-flex {
    flex-direction: column;
  }
} 

/* ==========================================================================
   UTILITY CLASSES
   ========================================================================== */

/* Flexbox utilities */
.mds-flex {
  display: flex;
}

.mds-flex-col {
  flex-direction: column;
}

.mds-items-center {
  align-items: center;
}

.mds-justify-center {
  justify-content: center;
}

.mds-justify-between {
  justify-content: space-between;
}

.mds-gap-sm {
  gap: var(--mds-space-200);
}

.mds-gap-md {
  gap: var(--mds-space-400);
}

.mds-gap-lg {
  gap: var(--mds-space-600);
}

/* Width and height utilities */
.mds-w-full {
  width: 100%;
}

.mds-h-full {
  height: 100%;
}

/* Text utilities */
.mds-text-center {
  text-align: center;
}

.mds-text-primary {
  color: var(--mds-color-maersk-light-blue) !important;
}

.mds-text-secondary {
  color: var(--mds-color-dark-text-secondary) !important;
}

.mds-text-xs { font-size: var(--mds-font-size-xs); }
.mds-text-sm { font-size: var(--mds-font-size-sm); }
.mds-text-md { font-size: var(--mds-font-size-md); }
.mds-text-lg { font-size: var(--mds-font-size-lg); }
.mds-text-xl { font-size: var(--mds-font-size-xl); }

.mds-text-normal { font-weight: var(--mds-font-weight-normal); }
.mds-text-medium { font-weight: var(--mds-font-weight-medium); }
.mds-text-bold { font-weight: var(--mds-font-weight-bold); }

/* Margin utilities */
.mds-m-0 { margin: 0; }
.mds-m-xs { margin: var(--mds-space-100); }
.mds-m-sm { margin: var(--mds-space-200); }
.mds-m-md { margin: var(--mds-space-400); }
.mds-m-lg { margin: var(--mds-space-600); }
.mds-m-xl { margin: var(--mds-space-800); }

/* Padding utilities */
.mds-p-0 { padding: 0; }
.mds-p-xs { padding: var(--mds-space-100); }
.mds-p-sm { padding: var(--mds-space-200); }
.mds-p-md { padding: var(--mds-space-400); }
.mds-p-lg { padding: var(--mds-space-600); }
.mds-p-xl { padding: var(--mds-space-800); }

/* Background utilities */
.mds-bg-neutral-weak {
  background-color: var(--mds-color-dark-bg-secondary);
}

.mds-bg-primary-weak {
  background-color: rgba(0, 119, 190, 0.1);
}

/* Headlines */
.mds-headline-xs {
  font-family: var(--mds-font-family-primary);
  font-size: var(--mds-font-size-lg);
  font-weight: var(--mds-font-weight-bold);
  line-height: var(--mds-line-height-tight);
  margin: 0 0 var(--mds-space-300) 0;
  color: var(--mds-color-dark-text-primary);
}

.mds-headline-sm {
  font-family: var(--mds-font-family-primary);
  font-size: var(--mds-font-size-xl);
  font-weight: var(--mds-font-weight-bold);
  line-height: var(--mds-line-height-tight);
  margin: 0 0 var(--mds-space-400) 0;
  color: var(--mds-color-dark-text-primary);
}

.mds-headline-md {
  font-family: var(--mds-font-family-primary);
  font-size: var(--mds-font-size-2xl);
  font-weight: var(--mds-font-weight-bold);
  line-height: var(--mds-line-height-tight);
  margin: 0 0 var(--mds-space-500) 0;
  color: var(--mds-color-dark-text-primary);
}

.mds-headline-lg {
  font-family: var(--mds-font-family-primary);
  font-size: var(--mds-font-size-3xl);
  font-weight: var(--mds-font-weight-bold);
  line-height: var(--mds-line-height-tight);
  margin: 0 0 var(--mds-space-600) 0;
  color: var(--mds-color-dark-text-primary);
}

.mds-headline-xl {
  font-family: var(--mds-font-family-primary);
  font-size: var(--mds-font-size-4xl);
  font-weight: var(--mds-font-weight-bold);
  line-height: var(--mds-line-height-tight);
  margin: 0 0 var(--mds-space-700) 0;
  color: var(--mds-color-dark-text-primary);
}

/* ==========================================================================
   ADDITIONAL DARK THEME ENHANCEMENTS
   ========================================================================== */

/* Data table dark theme styling */
.data-table .mds-input {
  border: 1px solid var(--mds-color-dark-border);
  padding: var(--mds-space-200);
  font-size: 0.9rem;
  margin: 0;
  width: 100%;
  background: var(--mds-color-dark-bg-secondary);
  color: var(--mds-color-dark-text-primary);
}

.data-table .mds-button {
  padding: var(--mds-space-150) var(--mds-space-300);
  font-size: 0.85rem;
}

/* Option pricing page specific styling */
.option-time-series.mds-card,
.option-pricing-ui.mds-card {
  margin-bottom: var(--mds-space-600);
}

.time-series-table td {
  text-align: right;
}

/* Demand analysis page specific styling */
.demand-analysis-ui.mds-card {
  margin-bottom: var(--mds-space-700);
}

.supply-inputs.mds-flex,
.baseline-inputs.mds-flex {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--mds-space-400);
}

.demand-chart-container.mds-card {
  margin-bottom: var(--mds-space-600);
  min-height: 600px;
}

.demand-chart-container canvas {
  height: 500px !important;
}

/* Improve scenario controls styling */
.import-scenario-controls.mds-flex {
  background: rgba(0, 119, 190, 0.1);
  padding: var(--mds-space-400);
  border-radius: var(--mds-border-radius-md);
  border: 1px solid rgba(0, 119, 190, 0.2);
  align-items: flex-end;
}

.import-scenario-controls .mds-input {
  flex: 1;
  margin-bottom: 0;
}

/* Stats grid improvements */
.stats-grid {
  display: grid;
  gap: var(--mds-space-300);
  grid-template-columns: 1fr;
}

.stats-grid > div {
  padding: var(--mds-space-300);
  background: rgba(0, 119, 190, 0.08);
  border-radius: var(--mds-border-radius-md);
  border: 1px solid rgba(0, 119, 190, 0.2);
}

.stats-grid .stat-label {
  font-weight: var(--mds-font-weight-medium);
  color: var(--mds-color-dark-text-secondary);
  font-size: 0.9rem;
  margin-bottom: var(--mds-space-100);
}

.stats-grid .stat-value {
  font-size: 1.2rem;
  font-weight: var(--mds-font-weight-bold);
  color: var(--mds-color-maersk-light-blue);
}

/* Add row button styling */
.add-row-btn {
  margin-top: var(--mds-space-300);
  width: 100%;
}

/* Market summary content styling */
#marketSummaryContent p {
  margin-bottom: var(--mds-space-300);
  line-height: var(--mds-line-height-relaxed);
  color: var(--mds-color-dark-text-primary);
}

#marketSummaryContent strong {
  color: var(--mds-color-maersk-light-blue);
}

/* Option results styling */
.option-results.mds-card {
  margin-top: var(--mds-space-500);
}

#optionPayoffStats {
  margin-bottom: var(--mds-space-400);
  padding: var(--mds-space-400);
  background: rgba(0, 119, 190, 0.08);
  border-radius: var(--mds-border-radius-md);
  border: 1px solid rgba(0, 119, 190, 0.2);
  color: var(--mds-color-dark-text-primary);
}

/* Focus states for better accessibility */
.mds-input:focus,
.mds-button:focus {
  outline: 2px solid var(--mds-color-maersk-blue);
  outline-offset: 2px;
}

/* Loading states */
.mds-button:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

/* Equilibrium analysis responsive */
.equilibrium-analysis {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: var(--mds-space-500);
  margin-top: var(--mds-space-600);
}

/* Responsive improvements for option pricing flex layout */
@media (max-width: 768px) {
  .option-inputs.mds-flex {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--mds-space-400);
  }
  
  .supply-inputs.mds-flex,
  .baseline-inputs.mds-flex {
    grid-template-columns: 1fr;
  }
  
  .import-scenario-controls.mds-flex {
    flex-direction: column;
    align-items: stretch;
  }
  
  .demand-chart-container.mds-card {
    min-height: 400px;
  }
  
  .demand-chart-container canvas {
    height: 350px !important;
  }
  
  .equilibrium-analysis {
    grid-template-columns: 1fr;
  }
} 