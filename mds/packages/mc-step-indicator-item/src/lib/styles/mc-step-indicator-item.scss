@import '@maersk-global/mds-foundations/scss/mixins/_typography.scss';
@import '@maersk-global/mds-foundations/scss/mixins/_media.scss';
@import './mc-step-indicator-item.mixins.scss';

:host {
  position: relative;
  width: 100%;
}

:host(:last-child) {
  flex-grow: 0;
  width: auto;

  .item::after {
    display: none;
  }
}

.item {
  display: flex;

  &::marker {
    content: '';
  }
}

// line
.item::after {
  content: '';
  position: absolute;
  width: auto;
}

// marker
.marker {
  align-items: center;
  border-radius: 50%;
  border-style: var(--mds_core_step-indicator-item_border-style);
  border-width: var(--mds_core_step-indicator-item_border-width);
  display: flex;
  justify-content: center;
}

// label
.label {
  display: flex;
  align-items: center;
  min-width: var(--mds_core_step-indicator-item_label_min-width);
}

::slotted(*) {
  display: flex;
  flex-direction: column;
  gap: var(--mds_foundations_slot_gap);
}

/* status */
.pending {
  @include apply-mc-step-indicator-item-status('pending');
}

.current {
  @include apply-mc-step-indicator-item-status('current');
}

.completed {
  @include apply-mc-step-indicator-item-status('completed');
}

/* appearance */
.warning {
  @include apply-mc-step-indicator-item-appearance('warning');
}

.error {
  @include apply-mc-step-indicator-item-appearance('error');
}

/* fits & orientations */
:host([fit='small']) {
  &:host([orientation='horizontal']) {
    &:host(:not([autolayoutdisabled])) {
      @include mds-viewport-below('sm') {
        @include apply-mc-step-indicator-item('small', 'vertical');
      }
    }

    @include apply-mc-step-indicator-item('small', 'horizontal');
  }

  &:host([orientation='vertical']) {
    @include apply-mc-step-indicator-item('small', 'vertical');
  }

  &:host(:last-child) {
    flex-grow: 0;
  }
}

:host([fit='medium']) {
  &:host([orientation='horizontal']) {
    &:host(:not([autolayoutdisabled])) {
      @include mds-viewport-below('sm') {
        @include apply-mc-step-indicator-item('medium', 'vertical');
      }
    }

    @include apply-mc-step-indicator-item('medium', 'horizontal');
  }

  &:host([orientation='vertical']) {
    @include apply-mc-step-indicator-item('medium', 'vertical');
  }

  &:host(:last-child) {
    flex-grow: 0;
  }
}

:host([fit='large']) {
  &:host([orientation='horizontal']) {
    &:host(:not([autolayoutdisabled])) {
      @include mds-viewport-below('sm') {
        @include apply-mc-step-indicator-item('large', 'vertical');
      }
    }

    @include apply-mc-step-indicator-item('large', 'horizontal');
  }

  &:host([orientation='vertical']) {
    @include apply-mc-step-indicator-item('large', 'vertical');
  }

  &:host(:last-child) {
    flex-grow: 0;
  }
}

:host([fit='x-large']) {
  &:host([orientation='horizontal']) {
    &:host(:not([autolayoutdisabled])) {
      @include mds-viewport-below('sm') {
        @include apply-mc-step-indicator-item('x-large', 'vertical');
      }
    }

    @include apply-mc-step-indicator-item('x-large', 'horizontal');
  }

  &:host([orientation='vertical']) {
    @include apply-mc-step-indicator-item('x-large', 'vertical');
  }

  &:host(:last-child) {
    flex-grow: 0;
  }
}

:host(:first-child[orientation='horizontal'][alignitemsdisabled]) {
  .item {
    align-items: flex-start;

    .label {
      justify-content: left;
      text-align: left;
    }
  }
}

:host(:last-child[orientation='horizontal'][alignitemsdisabled]) {
  .item {
    align-items: flex-end;

    .label {
      justify-content: right;
      text-align: right;
    }
  }
}
