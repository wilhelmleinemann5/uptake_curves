@import '@maersk-global/mds-foundations/scss/mixins/_typography.scss';
@import '@maersk-global/mds-foundations/scss/mixins/_glow.scss';
@import './mc-select.mixins.scss';

:host([readonly]) * {
  pointer-events: none;
  touch-action: none;
  user-select: none;
}

.mc-select {
  input.input,
  .vanity input.input {
    color: transparent;
    cursor: pointer;
    display: block;

    &::selection {
      background: transparent;
    }

    &::-moz-selection {
      background: transparent;
    }
  }

  .affix::part(icon) {
    fill: var(--mds_core_select_chevron_color);
  }

  .mc-input.vanity .affix.type-suffix {
    padding-left: 0;
  }

  .options-empty {
    padding: var(--mds_core_input_medium_padding-top) 0 var(--mds_core_input_medium_padding-bottom)
      var(--mds_core_input_medium_padding-left);
  }

  .field {
    min-width: fit-content;
    width: 100%;
    cursor: pointer;
    position: relative;

    .input-container {
      overflow: hidden;

      .selected-option-label {
        align-items: center;
        color: var(--mds_core_input_default_text-color);
        display: flex;
        pointer-events: none;
        min-width: 0;
        position: absolute;
        width: 100%;
        z-index: 2;

        div {
          flex: 1;
          overflow: hidden;
          white-space: nowrap;
          text-overflow: ellipsis;
        }

        mc-option::part(button) {
          padding: 0;
          background-color: transparent;
        }
      }
    }
  }

  mc-popover::part(container) {
    overflow-x: hidden;
  }

  mc-option.placeholder::part(text-and-icon) {
    color: var(--mds_core_input_placeholder_text-color);
  }

  &.open .container .inner .field {
    @include mds-glow-and-border();
  }

  &.open .vanity .container .inner .field {
    @include mds-glow-and-border-vanity();
  }

  /* fit */
  .small {
    @include apply-input-fit('small');
  }

  .medium {
    @include apply-input-fit('medium');
  }

  .large {
    @include apply-input-fit('large');
  }

  mc-input.option-search {
    padding: 8px 12px 8px 36px;
  }
}
