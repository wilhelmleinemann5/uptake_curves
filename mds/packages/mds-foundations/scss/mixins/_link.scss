@import './_pointer-events';
@import './_glow';

@mixin mds-apply-link() {
  & {
    align-items: center;
    cursor: pointer;
    display: inline-flex;
    text-decoration: var(--mds_foundations_link_inline_text-decoration);
    transition-duration: var(--mds_foundations_link_transition-duration);
    transition-property: var(--mds_foundations_link_transition-properties);
    transition-timing-function: var(--mds_foundations_link_transition-timing);
  }

  &:focus-visible {
    border-radius: var(--mds_foundations_link_focus_border-radius);
    text-decoration: var(--mds_foundations_link_inline_hover_text-decoration);
    @include mds-glow-only-on-keyboard-nav($inset: false);
  }

  &:hover,
  &:active {
    text-decoration: var(--mds_foundations_link_inline_hover_text-decoration);
  }

  &:visited {
    text-decoration: var(--mds_foundations_link_inline_text-decoration);
  }
}

@mixin mds-apply-link-stand-alone() {
  text-decoration: var(--mds_foundations_link_stand-alone_text-decoration);

  &:hover,
  &:active {
    text-decoration: var(--mds_foundations_link_stand-alone_hover_text-decoration);
  }

  &:visited {
    text-decoration: var(--mds_foundations_link_stand-alone_text-decoration);
  }
}

@mixin mds-apply-link-external() {
  display: inline-flex;

  &::after {
    content: '';
    text-decoration: none;
    height: var(--mds_foundations_link_external_icon_height);
    width: var(--mds_foundations_link_external_icon_width);
    background-color: var(--mds_foundations_link_default_text-color);
    -webkit-mask: url('data:image/svg+xml,<svg part="icon" shape-rendering="geometricPrecision" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path d="M15.293 4H12V3h3.293a1 1 0 0 1 .707.293l.707.707a1 1 0 0 1 .293.707V8h-1V4.707l-6.646 6.647-.708-.708L15.293 4zM3 7a2 2 0 0 1 2-2h4v1H5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-4h1v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V7z"></path></svg>')
      no-repeat 50% 50%;
    mask: url('data:image/svg+xml,<svg part="icon" shape-rendering="geometricPrecision" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path d="M15.293 4H12V3h3.293a1 1 0 0 1 .707.293l.707.707a1 1 0 0 1 .293.707V8h-1V4.707l-6.646 6.647-.708-.708L15.293 4zM3 7a2 2 0 0 1 2-2h4v1H5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-4h1v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V7z"></path></svg>')
      no-repeat 50% 50%;
    -webkit-mask-size: cover;
    mask-size: cover;
  }
}

@mixin mds-apply-link-disabled() {
  pointer-events: inherit;
  cursor: not-allowed;

  &:hover {
    text-decoration: var(--mds_foundations_link_inline_text-decoration);

    &.mds-link--stand-alone {
      text-decoration: var(--mds_foundations_link_stand-alone_text-decoration);
    }
  }

  @include mds-prevent-pointer-events-if-disabled();
}

@mixin mds-apply-link-color($colorprop) {
  & {
    color: var(#{$colorprop});
  }
  @include mds-apply-link-state-color($colorprop);
  @include mds-apply-link-icon-color($colorprop);
}

@mixin mds-apply-link-state-color($colorprop) {
  &:active,
  &:visited {
    color: var(#{$colorprop});
  }
}

@mixin mds-apply-link-icon-color($colorprop) {
  mc-icon::part(icon) {
    fill: var(#{$colorprop});
  }
}
